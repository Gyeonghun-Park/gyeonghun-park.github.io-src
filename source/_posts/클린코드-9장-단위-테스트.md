---
title: "[Clean Code]í´ë¦°ì½”ë“œ 9ì¥ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸"
tags: [Book]
toc: true
widgets:
  - type: toc
    position: left
  - type: categories
    position: right
cover: /img/clean_code.jpeg
date: 2022-02-07 13:44:00
categories: [Book]
---

</pre>
<!--more-->

<!--more-->

## **9ì¥ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**

ğŸ”– `ì½ì€ ë²”ìœ„` : 8ì¥, ê²½ê³„ ~ 9ì¥, ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

---

### **1. í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ì¤‘ìš”ì„±**

- í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹¤ìˆ˜ë¥¼ ë°”ë¡œì¡ì•„ì¤€ë‹¤.
- í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë°˜ë“œì‹œ ì¡´ì¬í•´ì•¼ í•˜ë©°, ì‹¤ì œ ì½”ë“œ ëª»ì§€ ì•Šê²Œ ì¤‘ìš”í•˜ë‹¤.
- í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” ë³€ê²½ì´ ì‰½ë„ë¡ í•œë‹¤. ì½”ë“œì— ìœ ì—°ì„±, ìœ ì§€ë³´ìˆ˜ì„±, ì¬ì‚¬ìš©ì„±ì„ ì œê³µí•˜ëŠ” ë²„íŒ€ëª©ì´ ë°”ë¡œ ë‹¨ìœ„í…ŒìŠ¤íŠ¸ë‹¤. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ìˆìœ¼ë©´ ë³€ê²½ì´ ë‘ë µì§€ ì•Šë‹¤. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì—†ë‹¤ë©´ ëª¨ë“  ë³€ê²½ì´ ì ì •ì ì¸ ë²„ê·¸ë‹¤. í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ê°€ ë†’ì„ìˆ˜ë¡ ë²„ê·¸ì— ëŒ€í•œ ê³µí¬ê°€ ì¤„ì–´ë“ ë‹¤.
- ì§€ì €ë¶„í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì•ˆí•˜ë‹ˆë§Œ ëª»í•˜ë‹¤.

---

### **2. í…ŒìŠ¤íŠ¸ì˜ ì¢…ë¥˜**

êµ¬ê¸€ì˜ ì œì•ˆ : 70% unit tests, 20% integratoin tests, 10% end-to-end tests

![Testing pyramid](/img/í´ë¦°ì½”ë“œ-9ì¥-ë‹¨ìœ„-í…ŒìŠ¤íŠ¸/2.png?style=centerme)

#### `1) Unit Test`

- í”„ë¡œê·¸ë¨ ë‚´ë¶€ì˜ ê°œë³„ ì»´í¬ë„ŒíŠ¸ì˜ ë™ì‘ì„ í…ŒìŠ¤íŠ¸í•œë‹¤.
- ë°°í¬í•˜ê¸° ì „ì— ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ë„ë¡ ë§ì´ ì‚¬ìš©í•œë‹¤.

#### `2) Integration Test`

- í”„ë¡œê·¸ë¨ ë‚´ë¶€ì˜ ê°œë³„ ì»´í¬ë„ŒíŠ¸ë“¤ì„ í•©ì³ì„œ ë™ì‘ì„ í…ŒìŠ¤íŠ¸í•œë‹¤.
- Unit TestëŠ” ê° ì»´í¬ë„ŒíŠ¸ë¥¼ ê³ ë¦½ì‹œì¼œ í…ŒìŠ¤íŠ¸í•˜ê¸° ë•Œë¬¸ì— ì»´í¬ë„ŒíŠ¸ì˜ interactionì„ í™•ì¸í•˜ëŠ” integration Testê°€ í•„ìš”í•˜ë‹¤.

#### `3) E2E Test`

- End to End test
- ì‹¤ì œ ìœ ì €ì˜ ì‹œë‚˜ë¦¬ì˜¤ëŒ€ë¡œ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ì„œë²„ì˜ Endpointë¥¼ í˜¸ì¶œí•´ í…ŒìŠ¤íŠ¸í•œë‹¤.

---

### **3. Unit Test ì‘ì„±**

#### `1) í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì`

- Unit : for unit test, ë§ì´ ì‚¬ìš©
- ockito : for mocking dependencies, ë§ì´ ì‚¬ìš©
- iremock : for stubbing out external services
- ack : for writing CDC tests
- elenium : for writing UI-driven end-to-end tests
- EST-assured : for writing REST API-driven end-to-end tests

#### `2) Test Double`

1. Stub

- ì›ë˜ì˜ êµ¬í˜„ì„ ë‹¨ìˆœí•œ ê²ƒìœ¼ë¡œ ëŒ€ì²´í•œë‹¤.
- í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ í”„ë¡œê·¸ë˜ë°ëœ í•­ëª©ì—ë§Œ ì‘ë‹µí•œë‹¤.

2. Spy

- Stubì˜ ì—­í• ì„ í•˜ë©´ì„œ í˜¸ì¶œì— ëŒ€í•œ ì •ë³´ë¥¼ ê¸°ë¡í•œë‹¤.
- ì´ë©”ì¼ ì„œë¹„ìŠ¤ì—ì„œ ë©”ì‹œì§€ê°€ ëª‡ ë²ˆ ì „ì†¡ë˜ì—ˆëŠ”ì§€ í™•ì¸í•  ë•Œ

3. Mock

- í–‰ìœ„ë¥¼ ê²€ì¦í•˜ê¸° ìœ„í•´ ê°€ì§œ ê°ì²´ë¥¼ ë§Œë“¤ì–´ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•
- í˜¸ì¶œì— ëŒ€í•œ ë™ì‘ì„ í”„ë¡œê·¸ë˜ë° í•  ìˆ˜ ìˆë‹¤.
- Stubì€ ìƒíƒœë¥¼ ê²€ì¦í•˜ê³  Mockì„ í–‰ìœ„ë¥¼ ê²€ì¦í•œë‹¤.

#### `3) given-when-then íŒ¨í„´ì„ ì‚¬ìš©í•˜ì`

```java
public testGetPageHierarchyAsxml() throws Exception {
  givenPages("PageOne", "PageOne.ChildOne", "PageTwo");

  whenRequestIsIssued("root", "type:pages");

  thenResponseShouldBeXML();
}

public void testGetPageHierarchyHasRightTags() throws Exception {
  givenPages("PageOne", "PageOne.ChildOne", "PageTwo");

  whenRequestIsIssued("root", "type:pages");

  thenResponseShouldContain("<name>PageOne</name>", "<name>ChildOne</name>", "<name>PageTwo</name>");
}
```

- given : í…ŒìŠ¤íŠ¸ì— ëŒ€í•œ pre-condition
- when : í…ŒìŠ¤íŠ¸í•˜ê³  ì‹¶ì€ ë™ì‘ í˜¸ì¶œ
- then : í…ŒìŠ¤íŠ¸ ê²°ê³¼ í™•ì¸
